# getfenv

関数やスレッドの環境テーブルを取得する

```lua
getfenv ([f])
```

## 説明

指定した関数 `f` が使用している現在の環境テーブルを返します。`f` は Lua 関数またはスタックレベルを示す数値で、レベル 1 は `getfenv` を呼び出した関数になります。指定された関数が Lua 関数でない場合、または `f` が 0 の場合、`getfenv` はグローバル環境を返します。`f` を省略した場合のデフォルトは 1 です。

## サンプルコード

```lua
print(getfenv(1))
```

この例では、現在の環境が表示されます。

## 互換性

- Lua5.1

## 関連項目

- `setfenv`